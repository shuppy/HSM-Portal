/*! TaoUI v4.0.0
* Released date: 2014-04-23
* http://taoui.dotnetage.com
* http://www.dotnetage.com
* Copyright 2008 - 2014 by DotNetAge
* Released under the MIT license
*/

(function(n,t,i,r){n.extend(String.prototype,{startsWith:function(t){return n.type(this)=="string"?this.slice(0,t.length)==t:!1},endsWith:function(t){return n.type(this)=="string"?this.slice(-t.length)==t:!1},contains:function(t){return n.type(this)=="string"?this.indexOf(t)>-1:!1},isUrl:function(){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(this)},random:function(){return Math.random().toString().replace(".","")}});Color=function(t,i,u,f){var l=this,a=function(n,t,i){var t=t/100,i=i/100,o=Math.floor(n/60%6),s=n/60-o,u=i*(1-t),f=i*(1-s*t),e=i*(1-(1-s)*t),r=[];switch(o){case 0:r=[i,e,u];break;case 1:r=[f,i,u];break;case 2:r=[u,i,e];break;case 3:r=[u,f,i];break;case 4:r=[e,u,i];break;case 5:r=[i,u,f]}var h=Math.min(255,Math.round(r[0]*256)),c=Math.min(255,Math.round(r[1]*256)),l=Math.min(255,Math.round(r[2]*256));return{r:h,g:c,b:l}},o,h,e,s,c;if(typeof t=="string"){if(this.opacity=1,t.startsWith("#")){for(o=t.replace("#","").match(/(.{2})/g),h=3;h--;)o[h]=parseInt(o[h],16);this.r=o[0];this.g=o[1];this.b=o[2]}t.startsWith("rgb(")&&(e=t.replace(/rgb\(|\)/g,"").split(","),this.r=parseInt(e[0],10),this.g=parseInt(e[1],10),this.b=parseInt(e[2],10));t.startsWith("rgba(")&&(e=t.replace(/rgb\(|\)/g,"").split(","),this.r=parseInt(e[0],10),this.g=parseInt(e[1],10),this.b=parseInt(e[2],10),this.opacity=parseFloat(e[3]))}else t!=r&&typeof t=="object"?(s={h:0,s:0,v:0},n.extend(s,t),c=a(s.h,s.s,s.v),l.opacity=1,this.r=c.r,this.g=c.g,this.b=c.b):(this.r=t||0,this.g=i||0,this.b=u||0,this.opacity=f!=r?f:1);return this};Color.prototype={hsv:function(){var f,e,o,i=this.r/255,r=this.g/255,u=this.b/255,n,s,t=Math.max(i,r,u),h=t-Math.min(i,r,u),c=function(n){return(t-n)/6/h+1/2};return h==0?n=s=0:(s=h/t,f=c(i),e=c(r),o=c(u),i===t?n=o-e:r===t?n=1/3+f-o:u===t&&(n=2/3+e-f),n<0?n+=1:n>1&&(n-=1)),{h:Math.round(n*360),s:Math.round(s*100),v:Math.round(t*100)}},hex:function(){var n=[];return n.push(this.r.toString(16).toLowerCase()),n.push(this.g.toString(16).toLowerCase()),n.push(this.b.toString(16).toLowerCase()),n[0]=n[0].length==1?"0"+n[0]:n[0],n[1]=n[1].length==1?"0"+n[1]:n[1],n[2]=n[2].length==1?"0"+n[2]:n[2],"#"+n.join("")},invert:function(){return color=this.hex().slice(1),color=parseInt(color,16),color=16777215^color,color=color.toString(16),color=("000000"+color).slice(-6),color="#"+color},blend:function(n,t){var s=new Color(n).hex(),i=t,r=parseInt(this.hex().slice(1),16),u=parseInt(s.slice(1),16),f=r>>16,e=r>>8&255,o=r&255,h=u>>16,c=u>>8&255,l=u&255;return"#"+(16777216+(Math.round((h-f)*i)+f)*65536+(Math.round((c-e)*i)+e)*256+(Math.round((l-o)*i)+o)).toString(16).slice(1)},lighten:function(n){var t=parseInt(this.hex().slice(1),16),i=n<0?0:255,r=n<0?n*-1:n,u=t>>16,f=t>>8&255,e=t&255;return"#"+(16777216+(Math.round((i-u)*r)+u)*65536+(Math.round((i-f)*r)+f)*256+(Math.round((i-e)*r)+e)).toString(16).slice(1)},darken:function(n){return this.lighten(-n)},toString:function(){return this.opacity==1?"rgb("+this.r+","+this.g+","+this.b+")":"rgba("+this.r+","+this.g+","+this.b+","+this.opacity+")"}};n.topMostIndex=function(){return Math.max.apply(null,n.map(n("body *"),function(t){return parseInt(n(t).css("z-Index"))||1}))};n.fn.datajQuery=function(t,i){var u=this,r=u.data(t);return r=="body"||r=="document"||r=="window"?r=="body"&&i?n("body",i):n(r):r=="self"?u:r=="prev"?u.prev():r=="next"?u.next():r=="parent"?u.parent():r[0]=="."||r[0]==">"||r[0]=="#"?i?n(r,n(i)):n(r):i?n("#"+r,n(i)):n("#"+r)};n.fn.isEmpty=function(){return this.isInput()?this.val()==""||this.val()==r||this.val()==null:!0};n.fn.dataBool=function(t){var i=this.data(t);if(i!=r&&i!=null){if(n.type(i)=="boolean")return i;if(n.type(i)=="string")return i.toLowerCase()=="true"?!0:!1}return!1};n.fn.dataInt=function(n){return this.data(n)==r?0:parseInt(this.data(n))};n.fn.isInput=function(){var n=this[0].tagName.toLowerCase();return n=="input"||n=="select"||n=="textarea"?!0:!1};n.ajaxUpload=function(t){var r=new XMLHttpRequest,u=new FormData,i=n.extend({},{url:"",type:"POST",name:"file1",async:!0,file:null,success:null,progress:null,fail:null,cancel:null},t);if(!i.url)throw"Upload url not set.";if(i.file==null)throw"Upload file blob not found.";return i.progress&&r.upload.addEventListener("progress",i.progress),i.success&&r.upload.addEventListener("load",i.success),i.cancel&&r.upload.addEventListener("abort",i.cancel),i.fail&&r.upload.addEventListener("error",i.fail),u.append(i.name,i.file),r.open(i.type,i.url,i.async),r.send(u),r};n.Component=function(){};n.Component.prototype={_create:function(){},_setOption:function(n,t){return this.options[n]=t,this},_getOption:function(n){return this.options[n]},destroy:function(){}};n.component=function(t,i){n.fn[t]=function(r){var u=arguments;return this.each(function(){var o=n(this),e=null,s,f;if(o.data("com_"+t)){if(e=o.data("com_"+t),r)if(r=="option")if(u.length>=2)e._setOption(u[1],u[2]);else return e[u[1]];else if(n.isFunction(e[r]))e[r].apply(e,Array.prototype.slice.call(u,1));else throw'"'+r+'" is not found in '+t+" widget";}else{s={};i.options&&(s=n.extend({},i.options));r&&(s=n.extend({},s,r));f=new n.Component;n.extend(f,i);f.options=s;f.element=o;o.on("remove",function(){f.destroy()});f._create();o.data("com_"+t,f)}})}};n.cmds={};n.component("taoSelectable",{options:{select:null,activeClass:"active",index:-1,multi:!1,autoHighlight:!0,preventDefault:!1,items:">*"},_create:function(){var i=this.element,t=this.options,u,f;if(i.data("selectable-selected")&&(t.select=new Function("event","ui",i.data("selectable-selected").toString())),i.data("selectable-multi")!=r&&(t.multi=i.dataBool("selectable-multi")),i.data("selectable-prevent-default")!=r&&(t.multi=i.dataBool("selectable-prevent-default")),i.data("selectable-auto-highlight")!=r&&(t.autoHighlight=i.dataBool("selectable-auto-highlight")),n.isFunction(t.select))i.on("select",t.select);u=n(t.items,i);u.on("click",function(r){var f,e;(t.preventDefault&&(r.stopPropagation(),r.preventDefault()),n(this).hasClass("disabled")||n(this).is(":disabled"))||(t.index=u.index(this),f=n("[type=checkbox],[type=radio]",n(this)),f.length&&(e=f.prop("checked"),f.prop("checked",!e)),t.multi?(n(this).toggleClass(t.activeClass),i.trigger("select",{index:t.index,element:this,selections:n(t.activeClass,i)})):n(this).hasClass(t.activeClass)||(u.not(this).removeClass(t.activeClass),n(this).addClass(t.activeClass),i.trigger("select",{index:t.index,element:this})))});t.autoHighlight&&n(t.items+"."+t.activeClass,i).length==0&&(f=t.index==-1?0:t.index,u.eq(f).addClass(t.activeClass))}});n.component("command",{options:{name:null,data:{},begin:null,success:null,complete:null,fail:null,trigger:"click"},_create:function(){var i=this.element,u=this,t=this.options;if(i.data("cmd")&&(t.name=i.data("cmd")),i.data("data")&&(t.data=i.data("data")),i.data("trigger")&&(t.trigger=i.data("trigger")),i.data("begin"))try{t.begin=n.proxy(new Function(i.data("begin"),i))}catch(r){throw r;}if(i.data("success"))try{t.success=n.proxy(new Function(i.data("success"),i))}catch(r){throw r;}if(i.data("complete"))try{t.complete=n.proxy(new Function(i.data("complete"),i))}catch(r){throw r;}if(i.data("fail"))try{t.fail=n.proxy(new Function("message",i.data("fail"),i))}catch(r){throw r;}i.on(t.trigger,function(){var r=n.cmds[t.name],u={},f;if(!r)throw'Command "'+t.name+'" not found';if(r.data&&(u=r.data),t.data&&(u=u?n.extend({},u,t.data):t.data),r.ajax)i.addClass("disabled"),n.ajax({url:r.url,type:r.type||"get",data:u}).fail(function(){n.isFunction(t.fail)&&t.fail()}).done(function(i){n.isFunction(t.success)&&t.success(i)}).alway(function(){i.removeClass("disabled");n.isFunction(t.complete)&&t.complete()});else{try{f=n.proxy(r,i);f(u)}catch(e){if(n.isFunction(t.fail))t.fail(e);else throw e;}n.isFunction(t.success)&&t.success()}})}});n.component("taoAutocomplete",{options:{url:null,letters:1,method:"get",success:null,menu:null,param:null,valueField:"value",labelField:"label"},_create:function(){var t=this.element,i=this.options,u="dropdown-menu",f;if(t.attr("autocomplete","off"),t.data("autocomplete-url")&&(i.url=t.data("autocomplete-url")),t.data("autocomplete-param")&&(i.param=t.data("autocomplete-param")),t.data("autocomplete-letters")&&(i.letters=t.dataInt("autocomplete-letters")),t.data("autocomplete-method")&&(i.method=t.data("autocomplete-method")),t.data("autocomplete-field-value")&&(i.valueField=t.data("autocomplete-field-value")),t.data("autocomplete-field-label")&&(i.labelField=t.data("autocomplete-field-label")),f=null,t.data("autocomplete-menu")&&(i.menu=t.data("autocomplete-menu"),f=new Function("data",i.menu.toString())),t.data("autocomplete-success"))try{i.success=new Function("data",t.data("autocomplete-success").toString())}catch(e){console.log(e.message+" data-autocomplete-success define error.")}i.data&&t.bind("autocomplete",i.data);t.on("keyup",function(){var e=n(this),o={};i.url&&(e.val().length>=i.letters?(i.param?o[i.param]=t.val():t.attr("name")&&(o[t.attr("name")]=t.val()),n.ajax({type:i.method,url:i.url,data:o}).done(function(o){var s,c,h;if(t.trigger("autocomplete",o),i.menu)try{c=n.proxy(f,e);h=c(o);h&&n(h).length&&(e.after(h),h.width(e.width()),e.data(u,h))}catch(l){console.log(l)}else{s=n("<ul/>").attr("role","menu").addClass("pos-abs");n.each(o,function(t,u){var f=null,e=null,o;u!=null&&u!=r&&(n.isPlainObject(u)?(f=u[i.valueField],e=u[i.labelField]):u!=null&&u!=r&&(f=u.toString(),e=f),f==null&&e!=null&&e!=r&&e!=""&&(f=e),f!=null&&f!=""&&f!=r&&(o=n("<li/>").attr("data-val",u[i.valueField]).text(u[i.labelField]).appendTo(s),n("<small/>").addClass("pull-right").text(f).appendTo(o)))});e.data(u)&&e.data(u).remove();e.after(s);s.width(e.width());s.children().on("click",function(){e.val(n(this).data("val"));s.hide()});e.data(u,s)}})):e.data(u)&&e.data(u).hide())}).on("dblclick",function(){n(this).data(u)&&n(this).data(u).show()})},destroy:function(){this.element.data("dropdown-menu")&&this.element.data("dropdown-menu").remove()}});n.component("uploader",{options:{url:null,progress:null},_create:function(){var i=this.element,r=this.options,u=this,t;i.data("upload-url")&&(r.url=i.data("upload-url"));i.data("upload-progress")&&(r.progress=i.datajQuery("upload-progress"));t=r.progress;i.on("change",function(){var u,i;if(this.files.length)for(u=this.files,i=0;i<u.length;i++)t.length&&(t.attr("max",u[i].size),t.val(0)),n.ajaxUpload({url:r.url,file:u[i],success:function(){t.length&&t.attr("class","success")},progress:function(n){n.lengthComputable&&t.length&&(t.attr("max",n.total),t.val(n.loaded))},cancel:function(){t.length&&t.attr("class","danger")},fail:function(){t.length&&t.attr("class","danger")}})})}})})(jQuery,window,document);$(function(){$("[data-dismiss]").on("click",function(){var n=$(this).data("dismiss");n&&typeof n=="string"?(n.startsWith(".")||n.startsWith("#")||(n="."+n),$(this).closest(n).length&&$(this).closest(n).remove()):$(this).parent().remove()});$("[data-role=dropdown]").addClass("dropdown");$("[data-position-fixed=true]").addClass("pos-fixed");$("[href^='#']").each(function(n,t){var i=$($(t).attr("href"));if(i.length&&(i.attr("data-role")=="dropdown"||i.hasClass("dropdown")))$(t).on("click",function(n){var t,i;n.stopPropagation();n.preventDefault();t=$($(this).attr("href"));t.length&&(t.toggleClass("show"),$(this).toggleClass("active"),t.is(":visible")&&(i={of:this,at:"right bottom",my:"right top"},$(this).hasClass("dropup")&&(i.at="right top",i.my="right bottom"),t.css({"z-index":$.topMostIndex(),"min-width":$(this).outerWidth(!0)}).position(i),t.hasClass("fill-width")&&t.css("left","0px")))})});$("body").on("click",function(n){$(n.target).is(":input")||($(".dropdown:visible").removeClass("show"),$("[href^='#']").each(function(n,t){var i=$($(t).attr("href"));i.length&&(i.attr("data-role")=="dropdown"||i.hasClass("dropdown"))&&$(t).removeClass("active")}))});$("[data-selectable],.pagination,.pagination-small").taoSelectable();$("[data-collapsable=true]").on("click",function(n){n.target&&$(n.target).data("collapsable")&&($(this).toggleClass("collapsed"),n.stopPropagation(),n.preventDefault())});$("[data-val-to]").on("change",function(){var n=$(this).datajQuery("val-to");n.is(":input")?n.val($(this).val()):n.text($(this).val())});if($("[autocomplete=on][data-autocomplete-url]").taoAutocomplete(),$("input[type=file][data-upload-url]").uploader(),$("input[type=file][data-read-to]").each(function(n,t){var u=function(n){var i,r,u,f;if(n.target.files.length&&(i=n.target.files[0],r=new FileReader,r.onload=function(n,t){return function(i){var r=n.datajQuery("read-to"),u=i.target.result;t.startsWith("image")?r.is(":input")?r.val(u):r.is("img")?r.attr("src",u):r.css("background-image","url("+u+")"):r.is(":input")?r.val(u):r.text(u);n.trigger("fileread",{result:u,element:r})}}($(t),i.type),i.type.startsWith("image")?r.readAsDataURL(i):(u="utf-8",$(this).data("read-encoding")&&(u=$(this).data("read-encoding")),r.readAsText(i,u)),$(t).data("read-complete"))){f=new Function("ui",$(t).data("read-complete"));$(t).on("fileread",f)}},i=$(t).datajQuery("read-to"),r=function(n){var t=n.target.files,o=[],u,s,f,e;if(t.length)for(u=0;u<t.length;u++)o.push(t[u].name);s=o.join(",");f=$("<li/>").appendTo(i).text("  "+s).prepend($("<i/>").addClass(t.length>1?"icon-copy":"icon-file"));$("<span/>").addClass("close").text("x").appendTo(f).click(function(){$(this).parent().remove()});e=$(this).clone();$(this).before(e);$(this).appendTo(f).hide();e.on("change",r)};if(i.is("ul"))$(t).on("change",r);else $(t).on("change",u)}),$("[data-cmd]").command(),undefined!==window.Modernizr)for(var n in window.Modernizr.inputtypes)window.Modernizr.inputtypes[n]==!1&&$(document.body).parent().addClass("no-input-"+n)}),function(n,t){function a(n,t,i){return[parseInt(n[0],10)*(l.test(n[0])?t/100:1),parseInt(n[1],10)*(l.test(n[1])?i/100:1)]}function u(t,i){return parseInt(n.css(t,i),10)||0}n.ui=n.ui||{};var f,r=Math.max,i=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(f!==t)return f;var u,r,i=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),e=i.children()[0];return n("body").append(i),u=e.offsetWidth,i.css("overflow","scroll"),r=e.offsetWidth,u===r&&(r=i[0].clientWidth),i.remove(),f=u-r},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:u?n.position.scrollbarWidth():0,height:f?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]);return{element:i,isWindow:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}};n.fn.position=function(t){if(!t||!t.of)return v.apply(this,arguments);t=n.extend({},t);var b,f,l,p,w,y=n(t.of),nt=n.position.getWithinInfo(t.within),tt=n.position.getScrollInfo(nt),k=y[0],d=(t.collision||"flip").split(" "),g={};return k.nodeType===9?(f=y.width(),l=y.height(),p={top:0,left:0}):n.isWindow(k)?(f=y.width(),l=y.height(),p={top:y.scrollTop(),left:y.scrollLeft()}):k.preventDefault?(t.at="left top",f=l=0,p={top:k.pageY,left:k.pageX}):(f=y.outerWidth(),l=y.outerHeight(),p=y.offset()),w=n.extend({},p),n.each(["my","at"],function(){var n=(t[this]||"").split(" "),i,r;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]);n[0]=o.test(n[0])?n[0]:"center";n[1]=s.test(n[1])?n[1]:"center";i=h.exec(n[0]);r=h.exec(n[1]);g[this]=[i?i[0]:0,r?r[0]:0];t[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),d.length===1&&(d[1]=d[0]),t.at[0]==="right"?w.left+=f:t.at[0]==="center"&&(w.left+=f/2),t.at[1]==="bottom"?w.top+=l:t.at[1]==="center"&&(w.top+=l/2),b=a(g.at,f,l),w.left+=b[0],w.top+=b[1],this.each(function(){var k,it,s=n(this),h=s.outerWidth(),c=s.outerHeight(),rt=u(this,"marginLeft"),ut=u(this,"marginTop"),ft=h+rt+u(this,"marginRight")+tt.width,et=c+ut+u(this,"marginBottom")+tt.height,o=n.extend({},w),v=a(g.my,s.outerWidth(),s.outerHeight());t.my[0]==="right"?o.left-=h:t.my[0]==="center"&&(o.left-=h/2);t.my[1]==="bottom"?o.top-=c:t.my[1]==="center"&&(o.top-=c/2);o.left+=v[0];o.top+=v[1];n.support.offsetFractions||(o.left=e(o.left),o.top=e(o.top));k={marginLeft:rt,marginTop:ut};n.each(["left","top"],function(i,r){n.ui.position[d[i]]&&n.ui.position[d[i]][r](o,{targetWidth:f,targetHeight:l,elemWidth:h,elemHeight:c,collisionPosition:k,collisionWidth:ft,collisionHeight:et,offset:[b[0]+v[0],b[1]+v[1]],my:t.my,at:t.at,within:nt,elem:s})});n.fn.bgiframe&&s.bgiframe();t.using&&(it=function(n){var u=p.left-o.left,v=u+f-h,e=p.top-o.top,w=e+l-c,a={target:{element:y,left:p.left,top:p.top,width:f,height:l},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:v<0?"left":u>0?"right":"center",vertical:w<0?"top":e>0?"bottom":"middle"};f<h&&i(u+v)<f&&(a.horizontal="center");l<c&&i(e+w)<l&&(a.vertical="middle");a.important=r(i(u),i(v))>r(i(e),i(w))?"horizontal":"vertical";t.using.call(this,n,a)});s.offset(n.extend(o,{using:it}))})};n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?i>0&&f<=0?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&i<=0?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?i>0&&f<=0?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&i<=0?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,t){var r=t.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-t.collisionPosition.marginLeft,a=l-o,v=l+t.collisionWidth-c-o,u=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,f=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,e=-2*t.offset[0],s,h;a<0?(s=n.left+u+f+e+t.collisionWidth-c-y,(s<0||s<i(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-t.collisionPosition.marginLeft+u+f+e-o,(h>0||i(h)<v)&&(n.left+=u+f+e))},top:function(n,t){var r=t.within,y=r.offset.top+r.scrollTop,a=r.height,o=r.isWindow?r.scrollTop:r.offset.top,v=n.top-t.collisionPosition.marginTop,s=v-o,h=v+t.collisionHeight-a-o,p=t.my[1]==="top",u=p?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,f=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,e=-2*t.offset[1],c,l;s<0?(l=n.top+u+f+e+t.collisionHeight-a-y,n.top+u+f+e>s&&(l<0||l<i(s))&&(n.top+=u+f+e)):h>0&&(c=n.top-t.collisionPosition.marginTop+u+f+e-o,n.top+u+f+e>h&&(c>0||i(c)<h)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,e=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(e?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(o);i=e||document.documentElement;i.insertBefore(t,i.firstChild);o.style.cssText="position: absolute; left: 10.7432222px;";u=n(o).offset().left;n.support.offsetFractions=u>10&&u<11;t.innerHTML="";i.removeChild(t)}();n.uiBackCompat!==!1&&function(n){var i=n.fn.position;n.fn.position=function(r){if(!r||!r.offset)return i.call(this,r);var u=r.offset.split(" "),f=r.at.split(" ");return u.length===1&&(u[1]=u[0]),/^\d/.test(u[0])&&(u[0]="+"+u[0]),/^\d/.test(u[1])&&(u[1]="+"+u[1]),f.length===1&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),i.call(this,n.extend(r,{at:f[0]+u[0]+" "+f[1]+u[1],offset:t}))}}(jQuery)}(jQuery),function(n,t){function i(t,i){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,t.href&&f&&"map"===u.nodeName.toLowerCase()?(e=n("img[usemap=#"+f+"]")[0],!!e&&r(e)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&r(t)}function r(t){return n.expr.filters.visible(t)&&!n(t).parents().andSelf().filter(function(){return"hidden"===n.css(this,"visibility")}).length}var u=0,f=/^ui-id-\d+$/;n.ui=n.ui||{};n.ui.version||(n.extend(n.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),n.fn.extend({_focus:n.fn.focus,focus:function(t,i){return"number"==typeof t?this.each(function(){var r=this;setTimeout(function(){n(r).focus();i&&i.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var u,f,r=n(this[0]);r.length&&r[0]!==document;){if(u=r.css("position"),("absolute"===u||"relative"===u||"fixed"===u)&&(f=parseInt(r.css("zIndex"),10),!isNaN(f)&&0!==f))return f;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&n(this).removeAttr("id")})}}),n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var r=n.attr(t,"tabindex"),u=isNaN(r);return(u||r>=0)&&i(t,!u)}}),n(function(){var i=document.body,t=i.appendChild(t=document.createElement("div"));t.offsetHeight;n.extend(t.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});n.support.minHeight=100===t.offsetHeight;n.support.selectstart="onselectstart"in t;i.removeChild(t).style.display="none"}),n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function u(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var o="Width"===r?["Left","Right"]:["Top","Bottom"],f=r.toLowerCase(),e={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?e["inner"+r].call(this):this.each(function(){n(this).css(f,u(this,i)+"px")})};n.fn["outer"+r]=function(t,i){return"number"!=typeof t?e["outer"+r].call(this,t):this.each(function(){n(this).css(f,u(this,t,!0,i)+"px")})}}),n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];n.ui.ie=t.length?!0:!1;n.ui.ie6=6===parseFloat(t[1],10)}(),n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.extend(n.ui,{plugin:{add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var r,u=n.plugins[t];if(u&&n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType)for(r=0;u.length>r;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},contains:n.contains,hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},isOverAxis:function(n,t,i){return n>t&&t+i>n},isOver:function(t,i,r,u,f,e){return n.ui.isOverAxis(t,r,f)&&n.ui.isOverAxis(i,u,e)}}))}(jQuery),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i,r=0;null!=(i=t[r]);r++)try{n(i).triggerHandler("remove")}catch(f){}u(t)};n.widget=function(i,r,u){var s,e,f,h,o=i.split(".")[0];i=i.split(".")[1];s=o+"-"+i;u||(u=r,r=n.Widget);n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)};n[o]=n[o]||{};e=n[o][i];f=n[o][i]=function(n,i){return this._createWidget?(arguments.length&&this._createWidget(n,i),t):new f(n,i)};n.extend(f,e,{version:u.version,_proto:n.extend({},u),_childConstructors:[]});h=new r;h.options=n.widget.extend({},h.options);n.each(u,function(t,i){n.isFunction(i)&&(u[t]=function(){var n=function(){return r.prototype[t].apply(this,arguments)},u=function(n){return r.prototype[t].apply(this,n)};return function(){var t,r=this._super,f=this._superApply;return this._super=n,this._superApply=u,t=i.apply(this,arguments),this._super=r,this._superApply=f,t}}())});f.prototype=n.widget.extend(h,{widgetEventPrefix:e?h.widgetEventPrefix:i},u,{constructor:f,namespace:o,widgetName:i,widgetBaseClass:s,widgetFullName:s});e?(n.each(e._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,f,i._proto)}),delete e._childConstructors):r._childConstructors.push(f);n.widget.bridge(i,f)};n.widget.extend=function(r){for(var u,f,o=i.call(arguments,1),e=0,s=o.length;s>e;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r};n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h="string"==typeof e,o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?n.isFunction(u[e])&&"_"!==e.charAt(0)?(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):t):n.error("no such method '"+e+"' for "+r+" widget instance"):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=r++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetName,this),n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var u,f,e,o=i;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof i)if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;u.length-1>e;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,"disabled"===n&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,r,u){var e,f=this;"boolean"!=typeof i&&(u=r,r=i,i=!1);u?(r=e=n(r),this.bindings=this.bindings.add(r)):(u=r,r=this.element,e=this.widget());n.each(u,function(u,o){function s(){return i||f.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled")?("string"==typeof o?f[o]:o).apply(f,arguments):t}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||n.guid++);var h=u.match(/^(\w+)\s*(.*)$/),c=h[1]+f.eventNamespace,l=h[2];l?e.delegate(l,c,s):r.bind(c,s)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&(n.effects.effect[e]||n.uiBackCompat!==!1&&n.effects[e])?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});n.uiBackCompat!==!1&&(n.Widget.prototype._getCreateOptions=function(){return n.metadata&&n.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(n){var t=!1;n(document).mouseup(function(){t=!1});n.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){return!0===n.data(i.target,t.widgetName+".preventClickEvent")?(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var r=this,u=1===i.which,f="string"==typeof this.options.cancel&&i.target.nodeName?n(i.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===n.data(i.target,this.widgetName+".preventClickEvent")&&n.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!n.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(n(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){n('<div class="ui-draggable-iframeFix" style="background: #fff;"><\/div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=!1,r,u,f;for(n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),r=this.element[0],u=!1;r&&(r=r.parentNode);)r==document&&(u=!0);return!u&&"original"===this.options.helper?!1:("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?(f=this,n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",t)!==!1&&f._clear()})):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var i=this.options.handle&&n(this.options.handle,this.element).length?!1:!0;return n(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),i},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t])):"clone"==r.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"==r.appendTo?this.element[0].parentNode:r.appendTo),i[0]==this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options,r,t,u;if("parent"==i.containment&&(i.containment=this.helper[0].parentNode),("document"==i.containment||"window"==i.containment)&&(this.containment=["document"==i.containment?0:n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==i.containment?0:n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==i.containment?0:n(window).scrollLeft())+n("document"==i.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==i.containment?0:n(window).scrollTop())+(n("document"==i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||i.containment.constructor==Array)i.containment.constructor==Array&&(this.containment=i.containment);else{if(r=n(i.containment),t=r[0],!t)return;r.offset();u="hidden"!=n(t).css("overflow");this.containment=[(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0),(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0),(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=r}},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"==t?1:-1,u=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r=this.options,h="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(h[0].tagName),e=t.pageX,o=t.pageY,i,s,u,f;return this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top<i[1]||u-this.offset.click.top>i[3]?u-this.offset.click.top<i[1]?u+r.grid[1]:u-r.grid[1]:u:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left<i[0]||f-this.offset.click.left>i[2]?f-this.offset.click.left<i[0]?f+r.grid[0]:f-r.grid[0]:f:f)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():c?0:h.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():c?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[];n(u.connectToSortable).each(function(){var i=n.data(this,"sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("draggable"),u=this;n.each(r.sortables,function(){var f=!1,e=this;this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!=e&&this.instance._intersectsWith(this.instance.containerCache)&&n.ui.contains(e.instance.element[0],this.instance.element[0])&&(f=!1),f}));f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}});n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor"));t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i){var r=n(i.helper),u=n(this).data("draggable").options;r.css("opacity")&&(u._opacity=r.css("opacity"));r.css("opacity",u.opacity)},stop:function(t,i){var r=n(this).data("draggable").options;r._opacity&&n(i.helper).css("opacity",r._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("draggable"),i=r.options,u=!1;r.scrollParent[0]!=document&&"HTML"!=r.scrollParent[0].tagName?(i.axis&&"x"==i.axis||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"==i.axis||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"==i.axis||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"==i.axis||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))));u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("draggable"),i=t.options;t.snapElements=[];n(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var d,r=n(this).data("draggable"),k=r.options,u=k.snapTolerance,c=i.offset.left,a=c+r.helperProportions.width,l=i.offset.top,v=l+r.helperProportions.height,f=r.snapElements.length-1;f>=0;f--){var e=r.snapElements[f].left,s=e+r.snapElements[f].width,o=r.snapElements[f].top,h=o+r.snapElements[f].height;if(c>e-u&&s+u>c&&l>o-u&&h+u>l||c>e-u&&s+u>c&&v>o-u&&h+u>v||a>e-u&&s+u>a&&l>o-u&&h+u>l||a>e-u&&s+u>a&&v>o-u&&h+u>v){if("inner"!=k.snapMode){var y=u>=Math.abs(o-v),p=u>=Math.abs(h-l),w=u>=Math.abs(e-a),b=u>=Math.abs(s-c);y&&(i.position.top=r._convertPositionTo("relative",{top:o-r.helperProportions.height,left:0}).top-r.margins.top);p&&(i.position.top=r._convertPositionTo("relative",{top:h,left:0}).top-r.margins.top);w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e-r.helperProportions.width}).left-r.margins.left);b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s}).left-r.margins.left)}if(d=y||p||w||b,"outer"!=k.snapMode){var y=u>=Math.abs(o-l),p=u>=Math.abs(h-v),w=u>=Math.abs(e-c),b=u>=Math.abs(s-a);y&&(i.position.top=r._convertPositionTo("relative",{top:o,left:0}).top-r.margins.top);p&&(i.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top-r.margins.top);w&&(i.position.left=r._convertPositionTo("relative",{top:0,left:e}).left-r.margins.left);b&&(i.position.left=r._convertPositionTo("relative",{top:0,left:s-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[f].snapping&&(y||p||w||b||d)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item}));r.snapElements[f].snapping=y||p||w||b||d}else r.snapElements[f].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[f].item})),r.snapElements[f].snapping=!1}}});n.ui.plugin.add("draggable","stack",{start:function(){var r=n(this).data("draggable").options,t=n.makeArray(n(r.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)}),i;t.length&&(i=parseInt(t[0].style.zIndex)||0,n(t).each(function(n){this.style.zIndex=i+n}),this[0].style.zIndex=i+t.length)}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i){var r=n(i.helper),u=n(this).data("draggable").options;r.css("zIndex")&&(u._zIndex=r.css("zIndex"));r.css("zIndex",u.zIndex)},stop:function(t,i){var r=n(this).data("draggable").options;r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}})}(jQuery),function(n){var t={metro:["#eeeeee","#555555","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f"],office:["#eeeeee","#555555","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#92cddc","#f79646"],apex:["#eeeeee","#555555","#c9c2d1","#69676d","#ceb966","#9cb084","#6bb1c9","#6585cf","#7e6bc9","#a379bb"],austin:["#eeeeee","#555555","#caf278","#3e3d2d","#94c600","#71685a","#ff6700","#909465","#956b43","#fea022"],clarity:["#eeeeee","#292934","#f3f2dc","#d2533c","#93a299","#ad8f67","#726056","#4c5a6a","#808da0","#79463d"],slipstream:["#eeeeee","#555555","#b4dcfa","#212745","#4e67c8","#5eccf3","#a7ea52","#5dceaf","#ff8021","#f14124"],flow:["#eeeeee","#555555","#dbf5f9","#04617b","#0f6fc6","#009dd9","#0bd0d9","#10cf9b","#7cca62","#a5c249"],hardcover:["#eeeeee","#555555","#ece9c6","#895d1d","#873624","#d6862d","#d0be40","#877f6c","#972109","#aeb795"],verve:["#eeeeee","#555555","#d2d2d2","#666666","#ff388c","#e40059","#9c007f","#68007f","#005bd3","#00349e"]};n.component("palette",{options:{value:"",preset:"office",colors:t.office,to:null,from:null,autocolors:!0,preview:null,titleSize:{width:25,height:25},change:null},_create:function(){var n=this.element,i=this.options,r=this;if(n.addClass("palette"),n.attr("data-palette-val")&&(i.value=n.attr("data-palette-val")),n.attr("data-palette-change")&&(i.change=new Function("value",n.attr("data-palette-change"))),n.attr("data-palette-colors")&&(i.colors=n.attr("data-palette-colors").split(",")),n.attr("data-palette-to")&&(i.to=n.datajQuery("palette-to")),n.attr("data-palette-preset")&&(i.preset=n.data("palette-preset")),n.attr("data-palette-from")&&(i.from=n.datajQuery("palette-from")),n.attr("data-palette-autocolors")!=undefined&&(i.autocolors=n.dataBool("palette-autocolors")),n.attr("data-palette-title-width")!=undefined&&(i.titleSize.width=n.data("palette-title-width")),n.attr("data-palette-preview")!=undefined&&(i.preview=n.datajQuery("palette-preview")),n.attr("data-palette-title-height")!=undefined&&(i.titleSize.height=n.data("palette-title-height")),t[i.preset]&&(i.colors=t[i.preset]),n[0].tagName.toLowerCase()==="table"?this._createTable():this._createCustom(),i.change)n.on("change",i.change);n.on("change",function(n,t){r._altVal(t);r._preview(t)})},_createCustom:function(){var t=this,r=this.element,e=this.options,o=n("<div/>").appendTo(r).addClass("palette-hsv-color-tracker"),c=n("<div/>").addClass("palette-color-handler").appendTo(o),u=n("<div/>").addClass("palette-hsv-container").appendTo(r),a=n("<div/>").addClass("palette-hsv-colors").appendTo(u),f=n("<div/>").addClass("palette-hsv-gradient").appendTo(u),l=n("<div/>").addClass("palette-color-handler").appendTo(u),p=n("<div/>").addClass("palette-alapha-holder").appendTo(r).append(n("<label/>").text("Alpha")),w=n('<input type="range" />').addClass("inline").attr("max",100).attr("min",0).val(100).appendTo(p).on("change",function(){t.alpha=n(this).val();i()}),y=function(n){var i=new Color(n||"#000000"),r,u;t.hsv=i.hsv();t.alpha=i.opacity*100;r=o.width()-4;u=t.hsv.h/360*r;c.css({left:u+"px"});var e=f.width(),s=f.height(),h=(100-t.hsv.v)/100*s,a=t.hsv.s/100*e;l.css({left:a+"px",top:h+"px"})},i;y(this.options.value);this.setColor=y;i=function(){var i=new Color(t.hsv);i.opacity=t.alpha/100;e.value=i.toString();n(a,f).css("opacity",i.opacity);a.css({"background-color":new Color({h:t.hsv.h,s:100,v:100}).toString()});r.attr("data-palette-val",e.value);r.trigger("change",e.value)};f.on("click",function(n){l.css({left:n.offsetX+"px",top:n.offsetY+"px"});var r=u.width();s=Math.round(n.offsetX/r*100);v=100-Math.round(n.offsetY/u.height()*100);t.hsv.s=s;t.hsv.v=v;i()});o.on("click",function(r){c.css({left:r.offsetX+"px"});var u=n(this).width()-4,f=r.offsetX/u;h=Math.round(f*360);t.hsv.h=h;i();r.stopPropagation();r.preventDefault()});c.draggable({axis:"x",containment:"parent",drag:function(r,u){var f=n(this).parent().width()-4,e=u.position.left/f;h=Math.round(e*360);t.hsv.h=h;i()}});l.draggable({containment:"parent",drag:function(r,u){var f=n(this).parent().width();s=Math.round(u.position.left/f*100);v=100-Math.round(u.position.top/n(this).parent().height()*100);t.hsv.s=s;t.hsv.v=v;i()}})},_createTable:function(){for(var h,e,r,i,c,u=this.element,t=this.options,s=this,o=t.colors,l=0,f=0;f<7;f++){for(h=n("<tr/>").appendTo(u),e=0;e<o.length;e++){r=new Color(o[e]);i=r.toString();switch(f){case 1:i=r.lighten(.6);break;case 2:i=r.lighten(.4);break;case 3:i=r.lighten(.2);break;case 4:i=r.darken(.2);break;case 5:i=r.darken(.4);break;case 6:i=r.darken(.6)}c=n("<td/>").attr("data-color",r.hex()).appendTo(h).css({width:t.titleSize.width+"px",height:t.titleSize.height+"px","background-color":i,"border-color":i,color:new Color(i).invert()}).attr("tabindex",l++);f==0&&o[e]==t.value&&c.addClass("active")}if(!t.autocolors&&f==0)break}n("td",u).on("click",function(){n("td",u).removeClass("active");n(this).addClass("active");t.value=n(this).css("background-color");u.attr("data-palette-val",t.value);u.trigger("change",t.value)});this._altVal(t.value);this.setColor=function(i){var r=new Color(i).hex();n('[data-color="'+r+'"]',u).addClass("active");t.value=i;u.attr("data-palette-val",t.value);s._altVal(t.value);s._preview(t.value)}},_preview:function(t){var i=this.options,r;i.preview&&t&&(r=n(i.preview),r.css({"background-color":t,color:new Color(t).invert()}))},_altVal:function(t){var i=this.options,r;i.to&&t&&(r=n(i.to),r.each(function(i,r){var u=n(r);r.tagName.toLowerCase()=="input"?u.val(t).trigger("change"):u.text(t)}))},_setOption:function(i,r){var u=this.options;if(i=="preset"){if(r==u.preset)return;u.preset=r;t[u.preset]&&(u.colors=t[u.preset]);this.element.empty();this._createTable()}n.Component.prototype._setOption.call(this)}})}(jQuery);$(function(){$("[data-role=palette]").palette()}),function(n){n.component("taoPanel",{options:{display:"overlay",autoRelease:!1,autoLoad:!0,dismissible:!0,position:"left",returnTo:null,opened:!1,contentUrl:null,fillHeight:!0,load:null,open:null,close:null},_create:function(){var i=this.options,t=this.element,r=this,f=this.widgetEventPrefix,u;this._unobtrusive();t.addClass("panel").addClass("panel-"+i.position+"-"+i.display);t.parent()[0].tagName!="body"&&t.prependTo("body");r.header=n(">header,>h3",t).first();r.header.length==0&&t.attr("title")&&(t.wrapInner("<div/>"),r.header=n("<header/>").text(t.attr("title")).prependTo(t),t.removeAttr("title"));u=n(">div",t);u.length==0&&(u=n("<div/>").appendTo(t));r.body=u;i.load&&t.bind("panel-load",i.load);i.open&&t.bind("panel-open",i.open);i.close&&t.bind("panel-close",i.close);n(window).on("resize",n.proxy(this._winResize,this));n("a[data-rel=close]",t).on("click",function(n){n.preventDefault();n.stopPropagation();r.close()});if(t.attr("id")!=undefined){n('a[data-rel=close][href="#'+t.attr("id")+'"]').on("click",function(n){n.preventDefault();n.stopPropagation();r.close()});n('a[data-rel=open][href="#'+t.attr("id")+'"]').on("click",function(i){i.preventDefault();i.stopPropagation();n(".d-panel[data-opened=true]").not(t).each(function(t,i){n(i).taoPanel("close")});r.open()})}t.hasClass("panel-open")||i.opened===!0?r.open():t.addClass("panel-closed");this._fillHeight(i.fillHeight)},_unobtrusive:function(){var n=this.element,t=this.options;return n.data("return")&&(t.returnTo=n.data("return")),n.data("pos")&&(t.position=n.data("pos")),n.data("display")&&(t.display=n.data("display")),n.data("fill")!=undefined&&(t.fillHeight=n.dataBool("fill")),n.data("auto-load")!=undefined&&(t.autoLoad=n.dataBool("auto-load")),n.data("dismissible")!=undefined&&(t.dismissible=n.dataBool("dismissible")),n.data("auto-release")!=undefined&&(t.autoRelease=n.dataBool("auto-release")),n.data("panel-load")&&(t.load=new Function("event",n.data("load"))),n.data("panel-open")&&(t.open=new Function("event",n.data("panel-open"))),n.data("panel-close")&&(t.close=new Function("event",n.data("panel-close"))),n.data("url")&&(t.contentUrl=n.data("url")),n.data("title")&&n.attr("title",n.data("title")),this},_load:function(t){var r=this.options,u=this.element,i=this,f;r.contentUrl&&(f=i.body,n(f).load(r.contentUrl,function(){i.loaded=!0;u.trigger("panel-load");n.isFunction(t)&&t();n("[data-rel=close]",u).on("click",function(n){n.preventDefault();n.stopPropagation();i.close()})}))},_winResize:function(){var t=this,n=this.options,i=this.element;n.opened&&this._fillHeight(n.fillHeight)},_fillHeight:function(t){var e,r,u,f,i;if(t){if(e=this,r=this.element,r.height(document.body.clientHeight),u=n(">header",r),f=n(">footer",r),u.length==0&&f==0)return e.body.css("height","100%"),this;i=r.innerHeight();u.length&&(i=i-u.outerHeight(!0));f.length&&(i=i-f.outerHeight(!0));e.body.height(i)}},open:function(){var t=this.options,r=this.element,i=this;return r.hasClass("panel-open")?this:(t.opened=!0,i._fillHeight(t.fillHeight),t.display!="overlay"&&n("body").addClass("panel-"+t.position+"-"+t.display+"-body"),r.removeClass("panel-closed").addClass("panel-open").trigger("panel-open").css("z-index",n.topMostIndex()),t.contentUrl&&!i.loaded&&i._load(),t.dismissible&&(this.dismisshelper=n("<div/>").addClass("panel-dismiss").appendTo("body").css("z-index",n.topMostIndex()).height(n(document).height()).click(function(){i.close()})),this)},close:function(){var i=this.element,t=this.options,r=this;i.removeClass("panel-open").addClass("panel-closed");t.display!="overlay"&&n("body").removeClass("panel-"+t.position+"-"+t.display+"-body");this.dismisshelper&&(this.dismisshelper.remove(),this.dismisshelper=null);i.trigger("panel-close");t.autoRelease&&i.remove()},destroy:function(){return n(window).off("resize",n.proxy(this._winResize,this)),this.dismisshelper&&(this.dismisshelper.remove(),this.dismisshelper=null),n.Component.prototype.destroy.call(this)}})}(jQuery);$(function(){$("[data-role=panel]").taoPanel();$("[href^='#']").each(function(n,t){var i=$($(t).attr("href"));if(i.length&&i.attr("data-role")=="panel")$(t).on("click",function(){$($(this).attr("href")).taoPanel("open")})});$("a[data-rel=panel]").on("click",function(n){var i,r;n.preventDefault();n.stopPropagation();var f=$(this).attr("href"),e=$(this),u="dynamic_panel_"+$(".panel").length+1,t=$('<div id="'+u+'"/>').appendTo("body");for(i=0;i<this.attributes.length;i++)r=this.attributes.item(i),r.name.startsWith("data-panel-")&&t.attr(r.name.replace("data-panel-","data-"),r.value);$(this).dataBool("panel-position-fixed")==!0&&t.css("position","fixed");contentUrl=$(this).attr("href");$(this).attr("href","#"+u);t.taoPanel({contentUrl:contentUrl});t.taoPanel("open");t.taoPanel("option","autoRelease")==!0&&(t.data("href",f),t.bind("panel-close",function(){e.attr("href",t.data("href"))}))});window.onkeydown=function(n){n.keyCode==27&&$(".panel-open").length&&$(".panel-open").taoPanel("close")}});$(function(){var n=function(n){var t=n.createElement("details"),u,i,r;return("open"in t)?(i=n.body||function(){var t=n.documentElement;return u=!0,t.insertBefore(n.createElement("body"),t.firstElementChild||t.firstChild)}(),t.innerHTML="<summary>a<\/summary>b",t.style.display="block",i.appendChild(t),r=t.offsetHeight,t.open=!0,r=r!=t.offsetHeight,i.removeChild(t),u&&i.parentNode.removeChild(i),r):!1}(document);if(!n){document.documentElement.classList.add("no-details");$("summary").on("click",function(){var n=$(this).parent();n.attr("open")?n.removeAttr("open"):n.attr("open","open")})}}),function(n){n.fn.popup=function(t){var i=n.extend({},{dismissible:!0,trans:"popup",positionTo:null,trigger:null},t),r=n(this),o=document.body.clientHeight,f,e,u;if(r.data("dismissible")!=undefined&&(i.dismissible=r.dataBool("dismissible")),i.trigger&&n(i.trigger).length&&(n(i.trigger).data("trans")!=undefined&&(i.trans=n(i.trigger).data("trans")),n(i.trigger).data("position-to")!=undefined&&(i.positionTo=n(i.trigger).data("position-to"))),r.is(":visible"))return this;f=function(){n(".popup-dismiss:visible").remove();r.hide()};e=n("<div/>").addClass("popup-dismiss").height(o).appendTo("body").click(function(n){n.stopPropagation();n.preventDefault();i.dismissible&&f()}).css("z-index",n.topMostIndex());i.dismissible||e.addClass("popup-modal");u=window;r.removeClass("pos-fixed");i.positionTo?i.positionTo=="window"?(r.addClass("pos-fixed"),u=window):n(i.positionTo).length&&(u=n(i.positionTo)):t.trigger&&(u=t.trigger);r.css("position","absolute");r.removeClass("trans-"+i.trans).removeClass("trans-popup").removeClass("trans-popout").removeClass("trans-turn").removeClass("trans-slide").removeClass("trans-slideup").removeClass("trans-slidedown").removeClass("trans-fade").removeClass("trans-flow");r.prependTo("body").css("z-index",n.topMostIndex()+1).show().position({my:"center center",at:"center center",of:u,offset:"0px 0px"});i.trans!="none"?r.addClass("trans-"+i.trans):r.addClass("trans-popup");i.dismissible;n("[data-rel=close]",this).on("click",function(n){n.stopPropagation();n.preventDefault();f()});return this}}(jQuery);$(function(){$("[data-rel=popup]").each(function(n,t){var i=$(t);if(i.attr("href")&&i.attr("href").startsWith("#")){$(i.attr("href")).hide();i.on("click",function(n){n.stopPropagation();n.preventDefault();$(i.attr("href")).popup({trigger:this})})}})}),function(n){n.component("inputags",{options:{spliter:","},_create:function(){var r=this,t=this.element,f,i,e,u;t.wrap("<div/>");f=t.parent();i=n('<input type="text" />').appendTo(f);t.hide();t.attr("placeholder")&&i.attr("placeholder",t.attr("placeholder"));f.addClass("input-tags").on("click",function(){i.focus()});i.on("keydown",function(t){var i=n(this).val();switch(t.keyCode){case 8:i==""&&r.remove();break;case 188:return r.add(i),!1;case 13:return r.add(i),!1}});if(this.inputHolder=i,t.val())for(e=t.val().split(this.options.spliter),u=0;u<e.length;u++)r.add(e[u])},add:function(t){var r;if(t){var u=n("<span/>").addClass("input-tag").attr("data-val",t).text(t),i=this.element,e=this,f=this.options;n("<i/>").addClass("icon-remove").appendTo(u).click(function(){e.remove(n(this).parent().data("val"))});this.inputHolder.before(u);this.inputHolder.val("");r=i.val()?i.val().split(f.spliter):[];r.push(t);i.val(r.join(f.spliter))}},remove:function(t){var f=n(this.inputHolder),i=this.element,u,e,r;t?(u=n('[data-val="'+t+'"]',i.parent()),u.length&&u.remove()):f.prev()&&f.prev().remove();e=n("[data-val]",i.parent());r=[];e.each(function(t,i){r.push(n(i).data("val"))});r.length?i.val(r.join(this.options.spliter)):i.val("")}})}(jQuery);$(function(){$("[data-role=tags]").inputags()}),function(n){n.component("tooltips",{options:{},_create:function(){var t=this.element,u=this,i,r;n("[title]",t).each(function(t,i){var r=n(i).attr("title");n(i).attr("data-tooltip",r);n(i).removeAttr("title")});i=function(){var i=n(this).data("title"),r,t;i==undefined&&(i=n("<div/>").addClass("tooltip").appendTo("body"),n("<div/>").text(n(this).data("tooltip")).appendTo(i).addClass("tooltip-content"),n("<div/>").addClass("tooltip-arrow").appendTo(i),n(this).data("title",i));r=n(this).data("tooltip-pos")||"top";t={of:this,at:"left top",my:"left bottom",offset:"0px 0px"};switch(r){case"right":t.at="right top";t.my="left top";break;case"left":t.at="left top";t.my="right top";break;case"bottom":t.at="left bottom";t.my="left top"}i.attr("class","tooltip tooltip-"+r+" open").position(t)};r=function(){n(this).data("title")&&n(this).data("title").removeClass("open")};n("[data-tooltip]",t).on("mouseenter",function(){if(n(this).data("tooltip-display")!="popup"){var t=n.proxy(i,this);t()}}).on("mouseleave",function(){if(n(this).data("tooltip-display")!="popup"){var t=n.proxy(r,this);t()}}).on("click",function(){var t,u;n(this).data("tooltip-display")=="popup"&&(n(this).data("title")&&n(this).data("title").is(":visible")?(t=n.proxy(r,this),t()):(u=n.proxy(i,this),u()))});t.on("click",function(){n(".open[data-tooltip]",t).removeClass("open")})}})}(jQuery);$(function(){$("body").tooltips()}),function(n){n.component("tree",{options:{},_create:function(){var t=this.element,i=this,r=this.options;t.addClass("tree");n("li",t).each(function(){i._inititem(this)})},_inititem:function(t){var r=this,i=this.element,u=this.options;n(t).addClass("treeitem");n(t).data("treeitem-url")?n("<span/>").addClass("node-toggle").prependTo(n(t)):n("<span/>").addClass(n(t).children("ul").length?"node-toggle":"node-holder").prependTo(n(t));n(t).children("ul").length&&n(t).is(":last-child")&&n(t).addClass("end");n(">a,>div",t).addClass("treeitem-content");n(t).on("click",function(t){(t.stopPropagation(),t.target.tagName.toLowerCase()!="a"&&t.preventDefault(),n(this).hasClass("disabled"))||(n("a.treeitem-content",i).removeClass("active"),n(">a",this).toggleClass("active"))});n(t).children(".node-toggle").on("click",function(t){var u,f;t.stopPropagation();t.preventDefault();u=n(this).parent();u.attr("data-treeitem-url")?(f=n("<div/>").appendTo("body").hide(),u.addClass("loading"),f.load(u.data("treeitem-url"),function(){u.append(n(this).children()).removeAttr("data-treeitem-url").removeAttr("data-treeitem-url-method").removeAttr("data-treeitem-url-data").removeClass("loading");n("li",u).each(function(){r._inititem(this)})})):(u.toggleClass("collapsed"),!u.hasClass("collapsed")&&i.dataBool("tree-single-toggle")&&u.siblings().children("ul").closest("li").addClass("collapsed"))});return this}})}(jQuery);$(function(){$(".tree,[data-role=tree]").tree()}),function(n){n.component("taoTabs",{options:{justified:!1,panelClass:null},_create:function(){var f=this,t=this.element,i=this.options,r,u;t.data("justified")==!0&&(t.addClass("justified"),i.justified=!0);t.data("tabpanel-class")&&(i.panelClass=t.data("tabpanel-class"));t.addClass("tabs");n(">ul",t).addClass("tablist");r=n(">ul>li",t);r.addClass("tab").on("click",function(r){var s,e,o;if(r.stopPropagation(),r.preventDefault(),!n(this).hasClass("disabled")){n(this).addClass("active").siblings().removeClass("active");var h=n(this),u=n(this).children("a"),f=u.attr("href");f&&f.startsWith("#")?(s=n(f),n(">div",t).hide(),s.show()):(n("<span/>").addClass("loading").css("margin-left","5px").appendTo(u),e="tab_"+String.prototype.random(),o=n('<div id="'+e+'"/>'),i.panelClass&&o.addClass(i.panelClass),o.load(f,function(){n(">div",t).hide();n(this).appendTo(t).show();n(".loading",u).remove();u.attr("href","#"+e)}))}});i.justified&&(u=100/r.length,r.css("width",u+"%"));n("ul>.active",t).length==0&&r.first().addClass("active");t.children("div").hide();n("a",r).each(function(r,u){var f=n(this).attr("href"),e,o;f&&(n(u).parent().hasClass("active")?f.startsWith("#")?n(f).show():(e="tab_"+String.prototype.random(),o=n('<div id="'+e+'"/>'),i.panelClass&&o.addClass(i.panelClass),n("<span/>").addClass("loading").css("margin-left","5px").appendTo(u),o.load(f,function(){n(this).appendTo(t).show();n(".loading",u).remove();n(u).attr("href","#"+e)})):f.startsWith("#")&&n(f).hide())})}})}(jQuery);$(function(){$(".tabs,[data-role=tabs]").taoTabs()})